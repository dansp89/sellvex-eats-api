{
  "kind": "collectionType",
  "collectionName": "analytics",
  "info": {
    "singularName": "report",
    "pluralName": "reports",
    "displayName": "Analytics Report",
    "description": "Métricas e relatórios de vendas e performance"
  },
  "options": {
    "draftAndPublish": false
  },
  "pluginOptions": {},
  "attributes": {
    "date": {
      "type": "date",
      "required": true
    },
    "period": {
      "type": "enumeration",
      "enum": ["daily", "weekly", "monthly", "yearly"],
      "required": true,
      "default": "daily"
    },
    "totalOrders": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "totalRevenue": {
      "type": "decimal",
      "min": 0,
      "default": 0
    },
    "totalCosts": {
      "type": "decimal",
      "min": 0,
      "default": 0
    },
    "profit": {
      "type": "decimal",
      "default": 0
    },
    "averageOrderValue": {
      "type": "decimal",
      "min": 0,
      "default": 0
    },
    "newCustomers": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "returningCustomers": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "deliveryOrdersCount": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "pickupOrdersCount": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "dineInOrdersCount": {
      "type": "integer",
      "min": 0,
      "default": 0
    },
    "averageDeliveryTime": {
      "type": "decimal",
      "min": 0
    },
    "averagePreparationTime": {
      "type": "decimal",
      "min": 0
    },
    "cancellationRate": {
      "type": "decimal",
      "min": 0,
      "max": 100,
      "default": 0
    },
    "refundRate": {
      "type": "decimal",
      "min": 0,
      "max": 100,
      "default": 0
    },
    "topSellingProducts": {
      "type": "json",
      "default": []
    },
    "topCategories": {
      "type": "json",
      "default": []
    },
    "paymentMethodsBreakdown": {
      "type": "json",
      "default": {}
    },
    "hourlyBreakdown": {
      "type": "json",
      "default": {}
    },
    "customerSatisfactionScore": {
      "type": "decimal",
      "min": 0,
      "max": 5,
      "default": 0
    },
    "metadata": {
      "type": "json",
      "default": {}
    }
  }
}
